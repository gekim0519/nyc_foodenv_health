"0","# counting chains in neighborhoods"
"0","neigh_count_chain = neighborhood_chain %>%"
"0","  group_by(neighborhood, boro) %>%"
"0","  summarise(chain_n = n())"
"0",""
"0","neigh_count_rest = rest_neighborhood %>%"
"0","  distinct(neighborhood, camis) %>%"
"0","  group_by(neighborhood) %>%"
"0","  summarise(res_n = n())"
"0",""
"0","# calculating percentage of chains in each neighborhood"
"0","percent_neighborhood_chain = left_join(neigh_count_chain, neigh_count_rest) %>%"
"0","  ungroup() %>%"
"0","  mutate(chain_percentage = chain_n/res_n,"
"0","         neighborhood = str_to_upper(neighborhood))"
"2","Joining, by = ""neighborhood""
"
"0","plot_chain_neighbor = percent_neighborhood_chain %>%"
"0","  mutate(neighborhood = forcats::fct_reorder(neighborhood, chain_percentage)) %>%"
"0","  ggplot(aes(neighborhood, chain_percentage, fill = boro)) + geom_bar(stat=""identity"") +"
"0","  labs(x = ""Neighborhoods in NYC"", y = ""Percentage of chain restaurants"") +"
"0","  theme(axis.text.x = element_blank(), axis.ticks = element_blank())"
"0",""
"0","#ggplotly(plot_chain_neighbor)"
"0","plot_chain_neighbor"
